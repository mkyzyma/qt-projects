\hypertarget{classkpk_1_1core_1_1_db_service}{}\section{Класс kpk\+:\+:core\+:\+:Db\+Service}
\label{classkpk_1_1core_1_1_db_service}\index{kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}}


Служба управления базой данных  




{\ttfamily \#include $<$Db\+Service.\+h$>$}

\subsection*{Открытые члены}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classkpk_1_1core_1_1_db_service_ad7213ea1a3e710889dcd06876c165d95}{Db\+Service} ()
\item 
\hyperlink{namespacekpk_1_1core_a466e66f45327171cc2976df1304573ab}{Db\+Ptr} \& \hyperlink{classkpk_1_1core_1_1_db_service_a185ef44041963592970695ecac61f3c3}{connect} ()
\begin{DoxyCompactList}\small\item\em Подключение к БД \end{DoxyCompactList}\item 
\hyperlink{namespacekpk_1_1core_a466e66f45327171cc2976df1304573ab}{Db\+Ptr} \& \hyperlink{classkpk_1_1core_1_1_db_service_a67de388a45320984577d9223918c13fb}{get} ()
\begin{DoxyCompactList}\small\item\em Получить объект БД \end{DoxyCompactList}\item 
\hyperlink{namespacekpk_1_1core_a466e66f45327171cc2976df1304573ab}{Db\+Ptr} \& \hyperlink{classkpk_1_1core_1_1_db_service_aacb6bafd43eda109a2888bb0d6f86892}{create\+Shcema} ()
\begin{DoxyCompactList}\small\item\em Создать схему \end{DoxyCompactList}\item 
void \hyperlink{classkpk_1_1core_1_1_db_service_a2fcdfaec8a98b2a6224bfbf7e6e0a3b9}{begin} ()
\begin{DoxyCompactList}\small\item\em Начало транзакции \end{DoxyCompactList}\item 
void \hyperlink{classkpk_1_1core_1_1_db_service_a819d4e51894ea9950d69d7d159003aa5}{commit} ()
\begin{DoxyCompactList}\small\item\em Фиксация транзакции \end{DoxyCompactList}\item 
void \hyperlink{classkpk_1_1core_1_1_db_service_a360724207bed795a2ca720961d2808a9}{rollback} ()
\begin{DoxyCompactList}\small\item\em Отмена транзакции \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Подробное описание}
Служба управления базой данных 

Подключение, создание, работа с транзакциями \begin{DoxyNote}{Заметки}
Строка\+:
\begin{DoxyCode}
odb::session \hyperlink{namespacekpk_1_1core_a4f9bed5f4644496878e2126c1c8e6412}{s}; 
\end{DoxyCode}
 в \hyperlink{_db_service_8cpp}{Db\+Service.\+cpp} нужна для возможности работать с двунаправленными отношениями (один-\/к-\/одному, один-\/ко-\/многим) (см. odb-\/manual п. 11 \char`\"{}\+Session\char`\"{}) 
\end{DoxyNote}


См. определение в файле Db\+Service.\+h строка 25



\subsection{Конструктор(ы)}
\index{kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}!Db\+Service@{Db\+Service}}
\index{Db\+Service@{Db\+Service}!kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}}
\subsubsection[{\texorpdfstring{Db\+Service()}{DbService()}}]{\setlength{\rightskip}{0pt plus 5cm}kpk\+::core\+::\+Db\+Service\+::\+Db\+Service (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classkpk_1_1core_1_1_db_service_ad7213ea1a3e710889dcd06876c165d95}{}\label{classkpk_1_1core_1_1_db_service_ad7213ea1a3e710889dcd06876c165d95}


См. определение в файле Db\+Service.\+cpp строка 19



\subsection{Методы}
\index{kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}!begin@{begin}}
\index{begin@{begin}!kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}}
\subsubsection[{\texorpdfstring{begin()}{begin()}}]{\setlength{\rightskip}{0pt plus 5cm}void kpk\+::core\+::\+Db\+Service\+::begin (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classkpk_1_1core_1_1_db_service_a2fcdfaec8a98b2a6224bfbf7e6e0a3b9}{}\label{classkpk_1_1core_1_1_db_service_a2fcdfaec8a98b2a6224bfbf7e6e0a3b9}


Начало транзакции 



См. определение в файле Db\+Service.\+cpp строка 86

\index{kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}!commit@{commit}}
\index{commit@{commit}!kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}}
\subsubsection[{\texorpdfstring{commit()}{commit()}}]{\setlength{\rightskip}{0pt plus 5cm}void kpk\+::core\+::\+Db\+Service\+::commit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classkpk_1_1core_1_1_db_service_a819d4e51894ea9950d69d7d159003aa5}{}\label{classkpk_1_1core_1_1_db_service_a819d4e51894ea9950d69d7d159003aa5}


Фиксация транзакции 



См. определение в файле Db\+Service.\+cpp строка 91

\index{kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}!connect@{connect}}
\index{connect@{connect}!kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}}
\subsubsection[{\texorpdfstring{connect()}{connect()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Db\+Ptr} \& kpk\+::core\+::\+Db\+Service\+::connect (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classkpk_1_1core_1_1_db_service_a185ef44041963592970695ecac61f3c3}{}\label{classkpk_1_1core_1_1_db_service_a185ef44041963592970695ecac61f3c3}


Подключение к БД 

\begin{DoxyReturn}{Возвращает}
Указатель на БД 
\end{DoxyReturn}


См. определение в файле Db\+Service.\+cpp строка 24

\index{kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}!create\+Shcema@{create\+Shcema}}
\index{create\+Shcema@{create\+Shcema}!kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}}
\subsubsection[{\texorpdfstring{create\+Shcema()}{createShcema()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Db\+Ptr} \& kpk\+::core\+::\+Db\+Service\+::create\+Shcema (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classkpk_1_1core_1_1_db_service_aacb6bafd43eda109a2888bb0d6f86892}{}\label{classkpk_1_1core_1_1_db_service_aacb6bafd43eda109a2888bb0d6f86892}


Создать схему 

\begin{DoxyReturn}{Возвращает}
Указатель на БД 
\end{DoxyReturn}


См. определение в файле Db\+Service.\+cpp строка 52

\index{kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}!get@{get}}
\index{get@{get}!kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}}
\subsubsection[{\texorpdfstring{get()}{get()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Db\+Ptr} \& kpk\+::core\+::\+Db\+Service\+::get (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classkpk_1_1core_1_1_db_service_a67de388a45320984577d9223918c13fb}{}\label{classkpk_1_1core_1_1_db_service_a67de388a45320984577d9223918c13fb}


Получить объект БД 

\begin{DoxyReturn}{Возвращает}
Указатель на БД 
\end{DoxyReturn}


См. определение в файле Db\+Service.\+cpp строка 47

\index{kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}!rollback@{rollback}}
\index{rollback@{rollback}!kpk\+::core\+::\+Db\+Service@{kpk\+::core\+::\+Db\+Service}}
\subsubsection[{\texorpdfstring{rollback()}{rollback()}}]{\setlength{\rightskip}{0pt plus 5cm}void kpk\+::core\+::\+Db\+Service\+::rollback (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classkpk_1_1core_1_1_db_service_a360724207bed795a2ca720961d2808a9}{}\label{classkpk_1_1core_1_1_db_service_a360724207bed795a2ca720961d2808a9}


Отмена транзакции 



См. определение в файле Db\+Service.\+cpp строка 96



Объявления и описания членов классов находятся в файлах\+:\begin{DoxyCompactItemize}
\item 
kpk-\/core/\hyperlink{_db_service_8h}{Db\+Service.\+h}\item 
kpk-\/core/\hyperlink{_db_service_8cpp}{Db\+Service.\+cpp}\end{DoxyCompactItemize}
